window.__require=function e(o,t,n){function c(a,r){if(!t[a]){if(!o[a]){var s=a.split("/");if(s=s[s.length-1],!o[s]){var h="function"==typeof __require&&__require;if(!r&&h)return h(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=t[a]={exports:{}};o[a][0].call(u.exports,function(e){return c(o[a][1][e]||e)},u,u.exports,e,o,t,n)}return t[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)c(n[a]);return c}({"AudioController - 001":[function(e,o,t){"use strict";cc._RF.push(o,"23307w5I2JLo7Jx2omOyOrh","AudioController - 001");var n,c=this&&this.__extends||(n=function(e,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])})(e,o)},function(e,o){function t(){this.constructor=e}n(e,o),e.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)}),i=this&&this.__decorate||function(e,o,t,n){var c,i=arguments.length,a=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,o,t,n);else for(var r=e.length-1;r>=0;r--)(c=e[r])&&(a=(i<3?c(a):i>3?c(o,t,a):c(o,t))||a);return i>3&&a&&Object.defineProperty(o,t,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=a.property,h=function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.label=null,o.text="hello",o}return c(o,e),o.prototype.start=function(){},i([s(cc.Label)],o.prototype,"label",void 0),i([s],o.prototype,"text",void 0),i([r],o)}(cc.Component);t.default=h,cc._RF.pop()},{}],AudioEngine:[function(e,o){"use strict";cc._RF.push(o,"6658181SY1Nr5uBgGI0jNsv","AudioEngine"),cc.Class({extends:cc.Component,properties:{audio:{default:null,type:cc.AudioClip}},onLoad:function(){this.current=cc.audioEngine.play(this.audio,!1,1)},onDestroy:function(){cc.audioEngine.stop(this.current)}}),cc._RF.pop()},{}],AudioSourceControl:[function(e,o){"use strict";cc._RF.push(o,"e2ea8ilmalILaPZIHHr/ppo","AudioSourceControl"),cc.Class({extends:cc.Component,properties:{audioSource:{type:cc.AudioSource,default:null}},play:function(){this.audioSource.play()},pause:function(){this.audioSource.pause()}}),cc._RF.pop()},{}],block:[function(e,o){"use strict";cc._RF.push(o,"2ff1bstf8BIQaInxcIBiyq4","block"),cc.Class({extends:cc.Component,properties:{clip:cc.AudioClip},playmusic:function(){cc.audioEngine.play(this.clip,!1,1)},stopmusic:function(){cc.audioEngine.stopAll()},onLoad:function(){this.canTouch=!0,this.arrChildren=this.node.children},init:function(e,o,t){this.score=0,this.isPZ=!1,this.canTouch=!1,this.blockType=o,this.pos_dianParent=this.arrChildren[o].getChildByName("dian").getPosition();var n=cc.v2(e.x-this.pos_dianParent.x,e.y-this.pos_dianParent.y);this.node.setPosition(cc.v2(n.x,n.y+100));var c=cc.moveTo(.2,cc.v2(n.x,n.y-10)),i=cc.moveTo(.05,cc.v2(n.x,n.y+10)),a=cc.moveTo(.05,cc.v2(n.x,n.y-3)),r=cc.moveTo(.03,cc.v2(n.x,n.y)),s=cc.callFunc(function(){game.moveDir()},this),h=cc.sequence(c,i,a,r,s);t?(this.canTouch=!0,this.node.setPosition(n)):this.node.runAction(h),this.pos_dianWorld=e,this.setBlock()},setBlock:function(){for(var e=this.node.children,o=0;o<e.length;o++)o==this.blockType?e[o].active=!0:e[o].active=!1},setDianPos:function(){this.canTouch=!0;var e=this.node.getPosition();this.pos_dianWorld=cc.v2(e.x+this.pos_dianParent.x,e.y+this.pos_dianParent.y)},touchBegin:function(e){this.node.scaleY=this.node.scaleY-e/6,this.node.scaleY<=.8&&(this.node.scaleY=.8),game.hero.scaleY=this.node.scaleY,game.hero.scaleX=game.hero.scaleX+e/10,game.hero.scaleX>=1.2&&(game.hero.scaleX=1.2),this.node.scaleY>.8&&(game.hero.y=game.hero.y-e/8*this.arrChildren[this.blockType].getChildByName("block").height)},touchEnd:function(){game.hero.scaleY=1,game.hero.scaleX=1;var e=1-this.node.scaleY,o=cc.scaleTo(e/5,1+e/2),t=cc.scaleTo(e/8,1-e/5),n=cc.scaleTo(e/10,1),c=cc.sequence(o,t,n);this.node.runAction(c)},start:function(){}}),cc._RF.pop()},{}],game:[function(e,o){"use strict";cc._RF.push(o,"280c3rsZJJKnZ9RqbALVwtK","game"),cc.Class({extends:cc.Component,properties:{startBTn:cc.Button,phbBtn:cc.Button,closeBtn:cc.Button,phbNode:cc.Node,itemPrefab:cc.Prefab,content:cc.Node,content1:cc.Node,nodePlay:cc.Node,nodeReady:cc.Node,nodePlayScore:cc.Label,pre_block:cc.Prefab,hero:cc.Node,hero_2:cc.Node,nodeOver:cc.Node,replayBtn:cc.Button,startVideo:cc.AudioSource,startmp3:cc.AudioClip},onLoad:function(){window.game=this,this.userInfo(),this.nodeReady.active=!0,this.nodePlay.active=!1,this.nodeOver.active=!1,this.nodeOver.zIndex=9,this.setTouch(),this.gameType=0,this.nodePlayScore.string="0",this.myMeroyScore=0,this.userInfoFlagIsFirst=!0,this.userInfoFlagIsFirst1=!0,this.createRangList(),this.blockPool=new cc.NodePool,this.content1Pool=new cc.NodePool,this.hero.active=!1,this._startVideo=this.startVideo,cc.director.getCollisionManager().enabled=!0},startVideoFun:function(){this.startVideo.play(),cc.audioEngine.playEffect("")},pdDir:function(){for(var e=[],o=this.node.children,t=o.length-1;t>=0;t--){var n=o[t].getComponent("block");n&&e.push(n.pos_dianWorld)}var c=e[0].sub(e[1]).normalize(),i=290+160*Math.random();10*Math.random()<5&&(c.x=-1*c.x);var a=cc.v2(e[0].x+c.x*i,e[0].y+c.y*i);Math.floor(4*Math.random()),this.createBlock(a,0)},moveDir:function(){for(var e=this,o=[],t=this.node.children,n=t.length-1;n>=0;n--)(s=t[n].getComponent("block"))&&o.push(s.pos_dianWorld);for(var c=cc.v2((o[0].x-o[1].x)/2,(o[0].y-o[1].y)/2),i=cc.v2(0-(o[1].x+c.x),-150-(o[1].y+c.y)),a=function(o){(s=t[o].getComponent("block"))&&(s.canTouch=!1,d=cc.moveBy(.5,cc.v2(i.x,i.y)),h=cc.callFunc(function(){t[o].getComponent("block").setDianPos()},e),u=cc.sequence(d,h),t[o].runAction(u))},r=t.length-1;r>=0;r--){var s,h,u;a(r)}var d=cc.moveBy(.5,cc.v2(i.x,i.y));this.hero.runAction(d)},canTouch:function(){for(var e=this.node.children,o=e.length-1;o>=0;o--){var t=e[o].getComponent("block");if(t&&0==t.canTouch)return!1}return!0},cleanBlock:function(){for(var e=this.node.children,o=e.length-1;o>=0;o--){var t=e[o].getComponent("block");t&&t.pos_dianWorld.y<-900&&this.onBlockKilled(e[o])}},createBlock:function(e,o,t){var n=null;(n=this.blockPool.size()>0?this.blockPool.get():cc.instantiate(this.pre_block)).parent=this.node,n.zIndex=1,n.getComponent("block").init(e,o,t)},onBlockKilled:function(e){this.blockPool.put(e)},setTouch:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){this.node.children[5].getComponent("block").playmusic(),1==this.gameType&&0!=this.canTouch()&&0!=this.hero.getComponent("hero").canTouch&&(this.isTouchStart=!0,this.isGetScore=-1,this.hero.angle=0,this.hero_2.active=!1,this.isTouchBegin=!0,this.timeTouch=0,console.log("cc.Node.EventType.TOUCH_START"))},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(){1==this.gameType&&console.log("cc.Node.EventType.TOUCH_MOVE")},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){if(0!=this.isTouchStart&&1==this.gameType&&0!=this.canTouch()&&0!=this.hero.getComponent("hero").canTouch){this.isTouchStart=!1,this.isTouchBegin=!1;for(var e=cc.v2(0,0),o=0,t=this.node.children,n=t.length-1;n>=0;n--){var c=t[n].getComponent("block");c&&(2==++o?(c.touchEnd(),c.stopmusic()):1==o&&(e=c.pos_dianWorld))}var i=this.hero.getPosition(),a=e.sub(i).normalize(),r=8*this.timeTouch,s=cc.v2(i.x+a.x*r,i.y+a.y*r+this.hero.height/2),h=cc.callFunc(function(){this.hero.getComponent("hero").canTouch=!1,this.hero.anchorY=.5,this.hero.y=this.hero.y+this.hero.height/2}.bind(this)),u=cc.jumpTo(.4,s,200,1),d=cc.rotateBy(.4,360),l=cc.rotateBy(.4,-360);this.hero.getComponent("hero").playmusic();var m=cc.callFunc(function(){this.hero.anchorY=0,this.hero.y=this.hero.y-this.hero.height/2,this.hero_2.active=!0,this.scheduleOnce(function(){if(-1==this.isGetScore){this.hero_2.active=!1,cc.log("\u8e29\u7a7a\u6b7b\u4ea1\uff01"),this.gameType=2;for(var e=this.node.children,o=[],t=e.length-1;t>=0;t--)e[t].getComponent("block")&&o.push(t);var n=e[o[0]].getComponent("block").pos_dianWorld,c=e[o[1]].getComponent("block").pos_dianWorld,i=this.hero.getPosition();i.x>n.x&&i.x>c.x?e[o[0]].zIndex=5:i.x<n.x&&i.x<c.x?e[o[0]].zIndex=5:e[o[1]].zIndex=5;var a=cc.moveBy(.5,cc.v2(0,-75)),r=cc.callFunc(function(){this.gameOver()}.bind(this));this.hero.runAction(cc.sequence(a,r))}else 0==this.isGetScore?cc.log("\u8e29\u8fb9\u6b7b\u4ea1\uff01"):this.nodePlayScore.string=parseInt(this.nodePlayScore.string)+this.isGetScore+"";this.pdCreateBlock(),this.hero.getComponent("hero").canTouch=!0},.2)}.bind(this));if(a.x>0){var g=cc.spawn(u,d),p=cc.sequence(h,g,m);this.hero.runAction(p)}else{var f=cc.spawn(u,l);p=cc.sequence(h,f,m),this.hero.runAction(p)}console.log("cc.Node.EventType.TOUCH_END")}},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){1==this.gameType&&console.log("cc.Node.EventType.TOUCH_CANCEL")},this)},pdCreateBlock:function(){for(var e=this.node.children,o=e.length-1;o>=0;o--){var t=e[o].getComponent("block");if(t)return void(t.isPZ&&(this.cleanBlock(),this.pdDir()))}},gameOver:function(){this.nodeOver.active=!0,this.hero_2.getComponent("hero_2").playmusic(),this.myMeroyScore=parseInt(this.nodePlayScore.string),this.myMeroyScore>1&&alert("flagtest");for(var e=0;e<this.arr_infor.length;e++)if("\u6211\u5c31\u662f\u6211"==this.arr_infor[e].name){if(this.arr_infor[e].score<this.myMeroyScore){this.arr_infor[e].score=this.myMeroyScore;break}break}this.createRangList1()},createRangList:function(){this.arr_infor.sort(this.compare("score")),this.userInfoFlagIsFirst||this.node.getChildByName("phbNode").getChildByName("phbScrollView").getChildByName("view").getChildByName("content").removeAllChildren(),this.userInfoFlagIsFirst=!1;for(var e=0;e<this.arr_infor.length;++e){var o=cc.instantiate(this.itemPrefab),t=o.getComponent("item");if(t){var n=this.arr_infor[e].name,c=this.arr_infor[e].score,i=this.arr_infor[e].touXiang;t.init(e+1,n,c,i),2==i&&(this.myInfoIndex=e),this.content.addChild(o)}}},createRangList1:function(){this.arr_infor.sort(this.compare("score")),this.userInfoFlagIsFirst1||this.node.getChildByName("nodeOver").getChildByName("bg").getChildByName("phbScrollView").getChildByName("view").getChildByName("content").removeAllChildren(),this.userInfoFlagIsFirst1=!1;for(var e=0;e<this.arr_infor.length;++e){var o=cc.instantiate(this.itemPrefab),t=o.getComponent("item");if(t){var n=this.arr_infor[e].name,c=this.arr_infor[e].score,i=this.arr_infor[e].touXiang;t.init(e+1,n,c,i),2==i&&(this.myInfoIndex=e),this.content1.addChild(o)}}},btnOnclick:function(e,o){switch(o){case"start":this.startBTnEven();break;case"phb":this.createRangList(),this.phbNode.active=!0;break;case"close":this.phbNode.active=!1;break;case"replay":this.replayBtnEven();break;case"allPhb":this.createRangList(),this.nodeOver.active=!0,this.phbNode.zIndex=99,this.phbNode.active=!0}},startBTnEven:function(){this.startVideoFun(),this.gameType=1,this.nodeReady.active=!1,this.nodePlay.active=!0,this.nodeOver.active=!1,this.hero.active=!0,this.hero.zIndex=2,this.hero.setPosition(cc.v2(-140,-140)),this.createBlock(cc.v2(-140,-140),0,!0),this.createBlock(cc.v2(110,32),0,!0)},replayBtnEven:function(){this.gameType=1,this.nodeOver.active=!1;for(var e=this.node.children,o=e.length-1;o>=0;o--)e[o].getComponent("block")&&this.onBlockKilled(e[o]);this.hero.active=!0,this.hero.zIndex=2,this.hero.setPosition(cc.v2(-140,-140)),this.createBlock(cc.v2(-140,-140),0,!0),this.createBlock(cc.v2(110,32),0,!0),this.nodePlayScore.string="0",this.hero.getComponent("hero").canTouch=!0,this.hero.getComponent("hero").node.rotation=360},compare:function(e){return function(o,t){return o[e]-t[e]}},userInfo:function(){this.arr_infor=[{name:"25045493",touXiang:0,score:1003},{name:"cocos_666",touXiang:1,score:1002},{name:"\u6211\u5c31\u662f\u6211",touXiang:2,score:0},{name:"\u892a\u4e86\u8272\u65f3\u56de\u61b6",touXiang:3,score:Math.round(1e3*Math.random())},{name:"\u4e3a\u7231\u63a7",touXiang:4,score:Math.round(1e3*Math.random())},{name:"\u7b49\u5c3d\u6b4c\u60b2\u6b22",touXiang:5,score:Math.round(1e3*Math.random())},{name:"\u5996\u5a9a\uff20",touXiang:6,score:Math.round(1e3*Math.random())},{name:"\u65f6\u5149\u3042\u7626\u4e86~",touXiang:7,score:Math.round(1e3*Math.random())},{name:"\u522b\u683c\u5f0f\u5316",touXiang:8,score:Math.round(1e3*Math.random())},{name:"\u540c\u9910\u4f34\u6795",touXiang:9,score:Math.round(1e3*Math.random())},{name:"\u66fe\u6709\u2198\u51e0\u4eba",touXiang:10,score:Math.round(1e3*Math.random())},{name:"\u67e0\u6aac\u5473\u7684\u9c7c",touXiang:11,score:Math.round(1e3*Math.random())},{name:"\u6ca1\u6709\u8303\u513f",touXiang:12,score:Math.round(1e3*Math.random())},{name:"\u81ea\u7136\u800c\u7136",touXiang:13,score:Math.round(1e3*Math.random())},{name:"\u4eb2\uff0c\u6211\u6ca1\u8dd1",touXiang:14,score:Math.round(1e3*Math.random())},{name:"\u4e3b\u97f3King",touXiang:15,score:Math.round(1e3*Math.random())},{name:"\u540d\u94bb",touXiang:16,score:Math.round(1e3*Math.random())},{name:"\u83ab\u518d\u6267\u8ff7\u4e0d\u609f\u3002",touXiang:17,score:Math.round(1e3*Math.random())},{name:"\u591a\u5566\u546e\u8adf\u500b\u5922",touXiang:18,score:Math.round(1e3*Math.random())},{name:"\u5927\u54e5\u5927@",touXiang:19,score:Math.round(1e3*Math.random())},{name:"\u5973\u4eba\u672c\u8be5\u9738\u6c14",touXiang:20,score:Math.round(500*Math.random())},{name:"\u5593\u6d6d\u5593\u59d2\u6c3a\u6eab\u67d4",touXiang:21,score:Math.round(500*Math.random())},{name:"\u56de\u5fc6\u523a\u7a7f\u5fc3\u810f\u256e",touXiang:22,score:Math.round(500*Math.random())},{name:"\u7237\u4e36\u6709\u7279\u70b9",touXiang:23,score:0},{name:"\u611f\u8c22\u7ecf\u5386\u3002",touXiang:24,score:Math.round(500*Math.random())},{name:"\u75be\u98ce\u9b54\u5f71",touXiang:25,score:Math.round(500*Math.random())},{name:"\u575a\u5f3a\u7684\u7231\u604b",touXiang:26,score:Math.round(500*Math.random())},{name:"\u8def\u8fd8\u957f\u522b\u7316\u72c2",touXiang:27,score:Math.round(500*Math.random())},{name:"\u4f59\u751f\u68a6\u65ad",touXiang:28,score:Math.round(500*Math.random())},{name:"\u7b11\u8bdd\u592a\u8fc7",touXiang:29,score:Math.round(500*Math.random())},{name:"\u767d\u9f99\u541f",touXiang:30,score:Math.round(500*Math.random())},{name:"\u5fc3\u5e95\u9752\u82d4",touXiang:31,score:Math.round(500*Math.random())},{name:"\u72ec\u7acb\u4e8e\u4e16",touXiang:32,score:Math.round(500*Math.random())},{name:"mo_\u865a\u5187",touXiang:33,score:Math.round(500*Math.random())},{name:"\u65e0\u6240\u8c13\u7684\u7ed3\u5c40",touXiang:34,score:Math.round(500*Math.random())},{name:"\u534a\u591c\u6210\u4ed9",touXiang:35,score:Math.round(500*Math.random())},{name:"\u5b8c\u4e86\u4e36\u7136\u540e@",touXiang:36,score:Math.round(500*Math.random())},{name:"\u6ca1\u7231\u6ca1\u6068-",touXiang:37,score:Math.round(100*Math.random())},{name:"\u51c9\u7eaa\u4e4b\u57ce",touXiang:38,score:Math.round(110*Math.random())},{name:"\u68a6\u5982\u5357\u7b4f\u301e",touXiang:39,score:Math.round(100*Math.random())},{name:"-\u5932\u4ebc\u5149\u951f",touXiang:40,score:Math.round(100*Math.random())},{name:"\u8910\u8272\u773c\u7738~",touXiang:41,score:Math.round(100*Math.random())},{name:"\u592a\u575a\u5f3a\u662f\u8f6f\u5f31",touXiang:42,score:Math.round(100*Math.random())},{name:"\u66ae\u8272\u4f0a\u4eba",touXiang:43,score:Math.round(100*Math.random())},{name:"\u4e0d\u5fc5\u8c01\u61c2\u6211",touXiang:44,score:Math.round(100*Math.random())},{name:"\u5ae9HEI\u70ae@!",touXiang:45,score:Math.round(100*Math.random())},{name:"\u5948\u6cb3\u6865\u7b49\u4f60",touXiang:46,score:Math.round(100*Math.random())},{name:"\u4e00\u821e\u9a5a\u9d3b",touXiang:47,score:Math.round(100*Math.random())},{name:"\u4e09\u4e94\u4e03\u5e74",touXiang:48,score:Math.round(100*Math.random())},{name:"\u51b0\u843d\u98a8\u562f",touXiang:49,score:Math.round(10*Math.random())}]},start:function(){},update:function(e){if(this.isTouchBegin){this.timeTouch++,this.timeTouch>=400&&(this.timeTouch=400);for(var o=0,t=this.node.children,n=t.length-1;n>=0;n--){var c=t[n].getComponent("block");c&&2==++o&&c.touchBegin(e)}}}}),cc._RF.pop()},{}],hero_2:[function(e,o){"use strict";cc._RF.push(o,"b32d4d7GWhHy7rI7/rKdLX3","hero_2"),cc.Class({extends:cc.Component,properties:{clip:cc.AudioClip},playmusic:function(){cc.audioEngine.play(this.clip,!1,1)},onLoad:function(){},onCollisionEnter:function(e,o){var t=e.node.parent.getComponent("block");if(t&&(0==t.score&&(10==e.tag&&1e3==o.tag?(t.isPZ=!0,t.score=2,cc.log("\u5f97\u4e24\u5206")):11==e.tag&&1e3==o.tag&&(t.isPZ=!0,t.score=1,cc.log("\u5f971\u5206"))),-1==game.isGetScore))if(10==e.tag&&1e3==o.tag)game.isGetScore=2;else if(11==e.tag&&1e3==o.tag)game.isGetScore=1;else if(11==e.tag&&1001==o.tag){game.isGetScore=0;var n=t.pos_dianWorld,c=game.hero.getPosition();if(n.sub(c).x>0){game.gameType=2;var i=cc.rotateTo(.5,-30),a=cc.callFunc(function(){game.gameOver()}.bind(this));game.hero.runAction(cc.sequence(i,a))}else game.gameType=2,i=cc.rotateTo(.5,30),a=cc.callFunc(function(){game.gameOver()}.bind(this)),game.hero.runAction(cc.sequence(i,a));cc.log("hero\u6ed1\u5012")}},start:function(){}}),cc._RF.pop()},{}],hero:[function(e,o){"use strict";cc._RF.push(o,"fc4a5a0cENHZqTbCG2PMoru","hero"),cc.Class({extends:cc.Component,properties:{clip:cc.AudioClip},playmusic:function(){cc.audioEngine.playEffect(this.clip,!1)},onLoad:function(){this.canTouch=!0},start:function(){}}),cc._RF.pop()},{}],item:[function(e,o){"use strict";cc._RF.push(o,"fe52b2SPiFLGI+vN7865giJ","item"),cc.Class({extends:cc.Component,properties:{lab_num:cc.Label,lab_name:cc.Label,lab_score:cc.Label,sp_touxiang:cc.Sprite,spf_bg:cc.SpriteFrame,spa_touXiang:cc.SpriteAtlas},onLoad:function(){},init:function(e,o,t,n){this.lab_num.string=e,this.lab_name.string=o,this.lab_score.string=t,e%2==0&&(this.node.getComponent(cc.Sprite).spriteFrame=this.spf_bg),this.sp_touxiang.spriteFrame=this.spa_touXiang.getSpriteFrame("tou_"+n)},start:function(){}}),cc._RF.pop()},{}]},{},["AudioController - 001","AudioEngine","AudioSourceControl","block","game","hero","hero_2","item"]);
